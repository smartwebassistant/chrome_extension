<!-- popup.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Smart Web Assistant</title>
    <link href="../lib/bootstrap.min.css" rel="stylesheet" />
    <link href="../lib/all.min.css" rel="stylesheet" />
    <link href="../lib/style.css" rel="stylesheet" />
  </head>

  <body style="width: 300px; min-height: 500px; font-size: small">
    <div
      class="container"
      style="display: flex; flex-direction: column; height: 100%"
    >
      <nav class="navbar navbar-light bg-light">
        <span class="navbar-brand mb-0 h1">Smart Web Assistant</span>
        <div
          id="toggleSidebarButton"
          class="div-pointer"
          title="Toggle SidePanel"
          style="padding-right: 5px"
        >
          <img
            src="../images/layout-sidebar-reverse.svg"
            alt="Toggle SidePanel"
            style="width: 20px; height: 20px"
          />
        </div>
        <div class="dropdown" id="configDropdown">
          <div id="configButton" class="div-pointer" title="Settings">
            <img
              src="../images/gear.svg"
              alt="Settings"
              style="width: 20px; height: 20px"
            />
          </div>
          <!-- Dropdown menu will be dynamically inserted here -->
        </div>
      </nav>

      <div class="btn-group d-flex mb-1" role="group">
        <div class="input-group-prepend">
          <span class="input-group-text">Shortcuts</span>
        </div>
        <button
          type="button"
          id="storedPrompt1Button"
          class="btn btn-success flex-grow-1 btn-sm"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
        >
          1
        </button>
        <button
          type="button"
          class="btn btn-success flex-grow-1 btn-sm"
          id="storedPrompt2Button"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
        >
          2
        </button>
        <button
          type="button"
          class="btn btn-success flex-grow-1 btn-sm"
          id="storedPrompt3Button"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
        >
          3
        </button>
        <button
          type="button"
          class="btn btn-success flex-grow-1 btn-sm"
          id="storedPrompt4Button"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
        >
          4
        </button>
        <button
          type="button"
          class="btn btn-success flex-grow-1 btn-sm"
          id="storedPrompt5Button"
          data-bs-toggle="tooltip"
          data-bs-placement="top"
        >
          5
        </button>
      </div>

      <div class="input-group mb-1">
        <div class="input-group-prepend">
          <span class="input-group-text">Query</span>
        </div>
        <textarea
          class="form-control"
          placeholder="Enter custom prompt"
          id="customPromptInput"
          aria-label="With textarea"
        ></textarea>
      </div>

      <div class="input-group mb-1">
        <button
          class="btn btn-outline-success btn-sm"
          type="button"
          id="submitCustomPromptButton"
        >
          Ask Your AI
        </button>
        <select class="form-select" id="languageSelect">
          <option value="English">Response - English</option>
          <option value="Chinese">Response - Chinese</option>
          <option value="Spanish">Response - Spanish</option>
          <option value="French">Response - French</option>
          <option value="German">Response - German</option>
          <option value="Japanese">Response - Japanese</option>
          <option value="Russian">Response - Russian</option>
        </select>
      </div>
      <div class="form-check form-switch">
        <input
          class="form-check-input"
          type="checkbox"
          id="includeWebContentCheckbox"
          checked
        />
        <label
          class="form-check-label"
          for="includeWebContentCheckbox"
          title="The text of the active tab will be included in the query context. If disabled, only the custom prompt will be used."
          >Web content as query context</label
        >
      </div>
      <div class="form-check form-switch">
        <input
          class="form-check-input"
          type="checkbox"
          id="enableContextMenuCheckbox"
          checked
        />
        <label
          class="form-check-label"
          for="enableContextMenuCheckbox"
          title="You can choose to enable or disable the right click menu for smart web assistant."
          >Enable Right Click Menu</label
        >
        <span
          id="enableContextMenuSpan"
          style="display: none"
          class="storage-value"
          >Saved to local storage</span
        >
      </div>
      <div class="form-check form-switch" style="display: none">
        <input
          class="form-check-input"
          type="checkbox"
          id="magicClickCheckbox"
        />
        <label
          class="form-check-label"
          for="magicClickCheckbox"
          title="Select the text on the page and click the buttons for magic to happen."
          >Magic Click</label
        >
      </div>

      <div id="configPopupDiv"></div>

      <div
        id="markdownContentTextArea"
        class="border p-3 mb-1 bg-white overflow-auto markdown-content"
      ></div>

      <!--       <div class="d-flex justify-content-between align-items-center mt-1">
        <footer id="statusFooter" class="flex-grow-1">Ready.</footer>
        <button
          class="btn btn-danger btn-sm"
          id="cancelButton"
          style="display: none"
        >
          Stop
        </button>
      </div>-->
      <footer class="footer mt-auto py-1 bg-body-tertiary">
        <div
          class="container d-flex justify-content-between align-items-center"
        >
          <span class="text-body" id="statusFooter">Ready.</span>
          <button
            class="btn btn-danger btn-sm"
            id="cancelButton"
            style="display: none"
          >
            Stop
          </button>
        </div>
      </footer>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="../lib/jquery.min.js"></script>
    <script src="../lib/bootstrap.min.js"></script>
    <script src="../lib/showdown-2.1.0.min.js"></script>
    <script type="module" src="popup.js"></script>
    <script type="module" src="ui.js"></script>
    <script type="module" src="markdown.js"></script>
    <script type="module" src="sidepanel.js"></script>
    <script type="module" src="./config-menus/api-config.js"></script>
    <script type="module" src="./config-menus/prompts-config.js"></script>
    <script type="module" src="./config-menus/agent-config.js"></script>
    <script type="module" src="../services/aiServices.js"></script>
    <script type="module" src="../scripts/constants.js"></script>
    <script type="module" src="../scripts/logger.js"></script>
    <script type="module" src="../scripts/utils.js"></script>
  </body>
</html>
